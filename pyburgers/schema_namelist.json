{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "PyBurgers Namelist Validation Schema",
    "description": "Schema to validate the configuration namelist for PyBurgers.",
    "type": "object",
    "properties": {
        "time": {
            "type": "object",
            "properties": {
                "nt": { "type": "integer", "minimum": 1 },
                "dt": { "type": "number", "exclusiveMinimum": 0 }
            },
            "required": ["nt", "dt"]
        },
        "physics": {
            "type": "object",
            "properties": {
                "noise": {
                    "type": "object",
                    "properties": {
                        "alpha": { "type": "number" },
                        "amplitude": { "type": "number", "exclusiveMinimum": 0 }
                    },
                    "required": ["alpha", "amplitude"]
                },
                "viscosity": { "type": "number", "exclusiveMinimum": 0 },
                "sgs_model": { "type": "integer", "minimum": 0, "maximum": 4 }
            },
            "required": ["noise", "viscosity"]
        },
        "grid": {
            "type": "object",
            "properties": {
                "domain_length": { "type": "number", "exclusiveMinimum": 0 },
                "dns": {
                    "type": "object",
                    "properties": {
                        "nx": { "type": "integer", "minimum": 1 }
                    },
                    "required": ["nx"]
                },
                "les": {
                    "type": "object",
                    "properties": {
                        "nx": { "type": "integer", "minimum": 1 }
                    },
                    "required": ["nx"]
                }
            },
            "required": ["dns", "les"]
        },
        "output": {
            "type": "object",
            "properties": {
                "t_save": { "type": "number", "exclusiveMinimum": 0 }
            },
            "required": ["t_save"]
        },
        "logging": {
            "type": "object",
            "properties": {
                "level": {
                    "type": "string",
                    "enum": ["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"]
                },
                "file": { "type": "string" }
            },
            "required": ["level"]
        },
        "fftw": {
            "type": "object",
            "properties": {
                "planning": {
                    "type": "string",
                    "enum": ["FFTW_ESTIMATE", "FFTW_MEASURE", "FFTW_PATIENT", "FFTW_EXHAUSTIVE"]
                },
                "threads": { "type": "integer", "minimum": 1 }
            },
            "required": ["planning", "threads"]
        }
    },
    "required": ["time", "physics", "grid", "output", "logging", "fftw"]
}
